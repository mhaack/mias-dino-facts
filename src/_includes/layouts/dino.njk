{% extends 'layouts/base.njk' %}

{% block content %}
    {% image image, "c-dino__header-image", title, "100vw" %}
    <h1 class="c-dino__title">{{ title }}</h1>
    <section>
        <div class="l-container">
            <div class="c-dino__dino-content-wrapper">
                <div class="c-dino__tag-list">
                    {% for tag in tags %}
                        <a class="c-tags__tag" href="/tags/{{ tag | noEmoji | slug }}">{{ tag }}</a>
                    {% endfor %}
                </div>


                <div class="c-dino__instructions-wrapper u-free-text">
                    {% if sourceLabel and sourceURL %}
                        <p>Source : <a href="{{ sourceURL }}" target="_blank" rel="noopener">{{ sourceLabel }}</a></p>
                    {% endif %}
                    {{ content | safe }}
                </div>
            </div>
        </div>
    </section>

    <script>
        function adaptQuantity (ingredient, originalServings, currentServings) {
            return ingredient.replace(/(\d|\.|,)+/, match => Number(Math.round(parseFloat(match) * currentServings / originalServings + 'e' + 2) + 'e-' + 2));
        }
    </script>
{% endblock %}